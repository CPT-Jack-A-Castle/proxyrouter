# Proxy Router


## WTF
Разбирая в очередной раз груды непонятных скриптов, наткнулая на эту штуку. Этому проекто не менее трех лет. Прошу не судить меня строго, в то время я тоько начал постигать дзен линукса) Привел в порядок проект, все проверил, то, что провацировали конфликты, удалил, и наоборот, нужно поставил. Все работает отлично. Итак, что нам нужно, ну или по-крайней мере на каком устройстве данный скрипт будет работать 100% итак, поехали:

## requirements.txt

    1. FriendlyElec NanoPi2 with OLED Hat and metal box. Не самое современное устройство, в нем нет собственного приемника 80211...  
    2. ...так что я использую покупную, а а именно USB dongle Comfast CF-811AC.
    3. Образ Armbian для одноименного устройства, с последней стабильной версией Debian. Сборка Server
    4. Прямые руки :) Флешка, Ethernet провод и остальные прикладные мелочи.

После получение вышеперечисленных артифактов, записываем Armbian...iso на SD флешку (я использую [balena.io/etcher](url)), вставляем ее в устройство, подключаем проводом к домашней сети, находим устройство (лучше всего для этого подойдет Fing!, он есть магазине приложений для любого мобильного устройства), точнее его внутренний айпи адрес. Подключаемся к нему по ssh. Проходим стандартные процедуры ввода паролей и создания пользователя (любого). Вставляем вай-фай антенну в роутер.

## install.sh

После попадания в саму систему, сразу же меняем root пароль на самый простой, так же меняем пароль пользователю. Редактируем файл /etc/sudoers (nano /etc/sudoers), приводим содержание трех строчек к такому виду:

```
root    ALL=(ALL) NOPASSWD: ALL
x       ALL=(ALL) NOPASSWD: ALL
%sudo   ALL=(ALL) NOPASSWD: ALL
```
Соответственно х у меня - это Ваше имя пользователя, которое Вы только что создали у себя на устройстве. Далее заходим в стандартную для Armbian GUI оболочка командой armbian-config, в разделе System => CPU меняем диапазон значений работы ЦП от самого минимального, до максимума, мощность работы процессора так же выставляем на максимум. Выходим в шелл.

```
su root ; cd ~
git clone https://gitlab.com/x4k/pr /root/rrr ; cd /root/rrr ; bash install.sh
```
На этом Ваши действия заканчиваются, вы идете пить кофе, хакать пентагон и заниматься остальными своими делами. Через 30-50 минут Вы получите готовое устройство. Управрение устройством максимально удобное, после перезагрузки 22 порт станет недоступен, зато появиться веб-терминал по адрему http://ip_устройства:65000. Подключаемся, вводим имя пользователя и пароль (не рут). При первом входе в систему пишем следующее (чтобы автоматически перекидывало в root аккаунт): `echo 'sudo zsh' >> ~/.bashrc ; echo 'sudo zsh' >> ~/.zshrc`

## How2

На этом все. Вся информация, нужная для удачного использования устройства находится перед вами. Выполняем любую из команд и следуем простым инструкциям. Интерфейс максимально дружелюбен. Чего и Вам желаю ;-)
